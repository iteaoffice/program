<h2>{{ translate("txt-presentations") }}</h2>
{% if session.ideaSession|length > 0 %}
    <table class="table table-hover table-striped table-sm">
        <thead>
        <tr>
            <th>{{ translate("txt-time") }}</th>
            <th>{{ translate("txt-idea") }}</th>
            <th>{{ translate("txt-images") }}</th>
            <th>{{ translate("txt-document") }}</th>
            <th>{{ translate("txt-status") }}</th>
            <th>{{ translate("txt-contact") }}</th>
            <th>{{ translate("txt-country") }}</th>
        </tr>
        </thead>
        <tbody>
        {% for ideaSession in session.ideaSession %}
            {% set idea = ideaSession.idea %}
            <tr>
                <td>{{ ideaSession.schedule }}</td>
                <td>{{ ideaLink(idea, 'view-admin') }}</td>
                <td>{{ idea.image.count() }}</td>
                <td>{{ idea.document.count() }} ({{ ideaService.findDocumentsInSession(idea,session).count() }})</td>
                <td>
                    {% if idea.getHasPoster() %}
                        <span class="fa fa-file-image-o"
                              title="{{ translate("txt-idea-will-be-presented-as-poster") }}"></span>
                    {% endif %}
                    {% if idea.hasPresentation %}
                        <span class="fa fa-file-powerpoint-o"
                              title="{{ translate("txt-idea-will-be-presented-as-presentation") }}"></span>
                    {% endif %}
                    {% if idea.visibility is constant("Project\\Entity\\Idea\\Idea::VISIBILITY_HIDDEN") %}
                        <span class="fa fa-eye-slash" title="{{ translate("this-idea-is-hidden") }}"></span>
                    {% endif %}
                    {% if idea.subIdea.count() > 0 %}
                        <i class="fa fa-link"
                           title="{{ translate("txt-%s-ideas-joined")|format(idea.subIdea.count()) }}"></i>
                    {% endif %}
                    {% for subIdea in idea.mainIdea %}
                        <i class="fa fa-link"
                           title="{{ translate("txt-merged-with-%s")|format(subidea.idea)|raw }}"></i>
                    {% endfor %}
                    {% if ideaService.isComplete(idea) %}
                        <small>(<i class="fa fa-check-circle"></i> {{ translate("txt-idea-complete") }})
                        </small>{% endif %}
                </td>
                <td>{{ contactLink(idea.contact,'view-admin','name') }}</td>
                <td>{% if idea.contact.contactOrganisation %}
                        {{ countryLink(idea.contact.contactOrganisation.organisation.country, 'view-admin', 'iso3') }}
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {{ callSessionLink(session, 'download-document', 'button') }}
    {{ callSessionLink(session, 'download-spreadsheet', 'button') }}
    {{ callSessionLink(session, 'download-pdf', 'button') }}
    {{ callSessionLink(session, 'download', 'button') }}
{% else %}
    {{ ztbalert().info(translate("txt-no-ideas-found"))|raw }}
{% endif %}