{% do headScript().appendFile('assets/js/jquery.timepicker.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/jquery.slideraccess.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror/css.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror/htmlmixed.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror/javascript.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror/xml.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror/selection-pointer.js', 'text/javascript') %}
{% do headScript().appendFile('assets/js/codemirror/matchbrackets.js', 'text/javascript') %}
{% do headLink().appendStylesheet('assets/css/codemirror.css') %}
{% do headLink().appendStylesheet('assets/css/jquery.timepicker.css') %}
{% do headLink().appendStylesheet(
    '//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/ui-lightness/jquery-ui.min.css'
) %}


{% do form.prepare() %}
{{ form().openTag(form)|raw }}

{% set call = form.get('program_entity_call_call') %}

{{ ztbformelement(call.get('id')) }}
{{ ztbformelement(call.get('program')) }}
{{ ztbformelement(call.get('call')) }}
{{ ztbformelement(call.get('cluster')) }}
{{ ztbformelement(call.get('projectNumberMask')) }}
{{ ztbformelement(call.get('instructionText')) }}
{{ ztbformelement(call.get('poOpenDate')) }}
{{ ztbformelement(call.get('poCloseDate')) }}
{{ ztbformelement(call.get('loiSubmissionDate')) }}
{{ ztbformelement(call.get('fppOpenDate')) }}
{{ ztbformelement(call.get('fppCloseDate')) }}
{{ ztbformelement(call.get('doaSubmissionDate')) }}
{{ ztbformelement(call.get('labelAnnouncementDate')) }}
{{ ztbformelement(call.get('active')) }}
{{ ztbformelement(call.get('doaRequirement')) }}
{{ ztbformelement(call.get('ndaRequirement')) }}
{{ ztbformelement(call.get('loiRequirement')) }}
{{ ztbformelement(call.get('projectReport')) }}
{{ ztbformelement(call.get('callStages')) }}
{{ ztbformelement(call.get('poHasWorkPackages')) }}
{{ ztbformelement(call.get('hasOnlineWorkPackages')) }}
{{ ztbformelement(call.get('challengePerProject')) }}

{{ formelement(form.get('csrf')) }}

<div class="row mb-3">
    <div class="offset-sm-3 col-sm-9">
        {{ formelement(form.get('submit')) }}
        {% if form.has('delete') %}
            {{ formelement(form.get('delete')) }}
        {% endif %}
        {{ formelement(form.get('cancel')) }}
    </div>
</div>

{{ form().closeTag()|raw }}

<script type="text/javascript">
    $('input[type=datetime]').datetimepicker({
        addSliderAccess: true,
        sliderAccessArgs: {touchonly: false},
        timeFormat: 'HH:mm:ss',
        dateFormat: 'yy-mm-dd'
    });
    var htmlEditor = CodeMirror.fromTextArea(document.getElementById("html_instruction_text"), {
        mode: "text/html",
        lineNumbers: true,
        selectionPointer: true,
        lineWrapping: true,
        matchBrackets: true
    });
</script>
